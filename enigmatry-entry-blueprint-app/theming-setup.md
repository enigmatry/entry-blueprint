# Theming Setup

- [Overview](#overview)
- [Required packages](#required-packages)
- [Include styles generator](#include-styles-generator)
- [Theme](#theme)
  - [Define custom theme](#define-custom-theme)
  - [Theme sections and properties](#theme-sections-and-properties)
  - [Fonts](#fonts)
  - [Set Angular Material typography](#set-angular-material-typography)
- [Default values table](#default-values-table)

## Overview

This guide explains how to set up your project to begin using theming. The Entry theme works hand-in-hand with [Angular Material](https://material.angular.io/). It allows you to configure only certain things for simplicity and quick setup.

### Prerequisites:
1. Install required [`@enigmatry packages`](#required-packages)
2. Including [`generator`](#include-styles-generator) for theming setup
3. Prepare custom fonts, more info [`here`](#2-preparing-custom-fonts)

## Required packages

Ensure that the latest version of the[`@enigmatry packages`](#enigmatry-packages) are installed:

- [`entry-components`](https://github.com/enigmatry/entry-angular-building-blocks/tree/master/libs/entry-components)
- [`entry-form`](https://github.com/enigmatry/entry-angular-building-blocks/tree/master/libs/entry-form)

### @enigmatry/entry-components
Reusable Entry components for Angular material. It comes with the default Roboto font. There are plenty of components that this library includes: button, dialog, file-input, search-filter, spinner, table, and many more. <br>
Visit components demo app to check what is currently supported [here](https://entry-demo.enigmatry.com/).

#### Installation

```ts
npm install @enigmatry/entry-components
```

### @enigmatry/entry-form
Form components and helper methods used by entry-code-generation.

#### Installation

```ts
npm install @enigmatry/entry-form
```

Import the `EntryFormModule` in your `feature.module` or `shared.module`

```typescript
import { EntryFormModule } from '@enigmatry/entry-form';
```

## Include styles generator

[`Entry components library`](#required-packages) comes with a generator file. The generator includes multiple generator files for supported components (dialog, table, button, form...)
Call it in your dedicated SCSS file for theming.

```scss
@use 'entry-components/styles/generator';
```

## Theme

### Define custom theme

In the scss file where you include a generator, you can define the $custom-theme map that will be expanded with various customization options based on specific needs. 

```scss
$custom-theme: ();
```

Include and apply the styles generated by the generate-from mixin in the 'generator' module, using the customization options provided in the $custom-theme map.

```scss
@include generator.generate-from($custom-theme);
```

Our theme is now an empty object, and the default library theme is used.

```scss
@use 'entry-components/styles/generator';

$custom-theme: (
);

@include generator.generate-from($custom-theme);

```

### Theme sections and properties

Inside the `$custom-theme` map, you can add sections and define custom styles to suit specific preferences and needs.
If a specific value is not defined in your project's custom theme, the value from the [default theme](#default-values-table) will be applied. <br>

`$custom-theme` map includes 3 main sections:

1. **general**
- it contains styling for [**colors**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#2-colors), [**density**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#1-density), [**fonts**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#3-fonts), [**spacing**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#4-spacing), [**inputs**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#5-inputs), [**buttons**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#6-buttons)
2. **tables**
- it contains styling for [**cells**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#1-cells), [**rows**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#2-rows), [**contents**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#3-contents)
3. **dialog**
- it contains font size for the dialog [**title**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#1-title)

> **_NOTE:_**  For detailed information and a deeper understanding of theming concepts and customization possibilities, visit our [**comprehensive guide here**](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#theming-configuration-guide).

Bellow is example of configuring custom theme:

```scss
@use 'entry-components/styles/generator';

$custom-theme: (
  // Configuration options
  general: (
    density: 1,
    colors: (
      primary-theme: #333
    ),
    fonts: (
      body: (
        size: 10px,
      ),
    )
  ),
  tables: (
    cells: (
      edge-gap: 4px
    )
  ),
  dialogs: (
    title: (
      size: 20px
    )
  )
);

@include generator.generate-from($custom-theme);
```

### Fonts

There are 2 possibilities of using fonts in theming:

#### 1. Default Roboto font

Entry-components library comes with the default **Roboto** font family. To utilize it, configuration in the `angular.json` file at the root of the app is necessary. The font is imported from the library's node modules as follows:  

```json
"assets": [
  "src/assets",
  {
    "glob": "**/*",
    "input": "./node_modules/@enigmatry/entry-components/assets/",
    "output": "/assets/"
  }
],
```

#### 2. Custom fonts

If you need custom fonts, you can do it in the following way:

- Place custom font files in the `assets/fonts/` folder of project.
- i.e use `@font-face` rule to define custom fonts in your scss file in the following way:

```scss
@font-face {
  font: {
    family: 'Helvetica';
    weight: 400;
  }
  // your file path to font
  src: url('/assets/fonts/Helvetica.woff2') format('woff2'), url('/assets/fonts/Helvetica.woff') format('woff');
}
```

### Set Angular Material typography

Since Angular Material is using different typography levels, to be able to read values from a theme it's needed to add those typography level cases to corresponding native elements. So the right font configurations will be applied. Check the full list here [Material Typography Guide](https://material.angular.io/guide/typography#typography-levels). 

In another case, if we don't provide those classes for custom components, our typography configurations will not be applied.

The first necessary step is to apply it to the whole body of the app, add `.mat-body` or `.mat-body-2` class to the body element in index.html file in app root. 

```html
<!-- Applying mat-body class to the root component in index.html -->
<body class="mat-body">
  <app-root></app-root>
</body>
```

We're overriding Angular Material, so it is important to add CSS classes for mixin that emits styles for native header elements scoped within the .mat-typography CSS class.

```html
<!-- Example of adding material class -->
<section>
  <h1 class="mat-headline-1">Main header</h1>
</section>
```

More about typography configurations can be found [here](https://github.com/enigmatry/entry-angular-building-blocks/blob/master/libs/entry-components/configure-theming.md#3-fonts).

## Default values table

The table below outlines the default values for various configuration properties.

| Category         | Property                        | Default Value                       |
|------------------|---------------------------------|-------------------------------------|
| **general**      | density                         | 0                                   |
|                  | colors/primary-theme            | null                                |
|                  | colors/accent-theme             | null                                |
|                  | colors/primary                  | #2581C4                             |
|                  | colors/accent                   | #EA518D                             |
|                  | colors/font                     | #323232                             |
|                  | disabled/foreground             | rgb(0 0 0 / .38)                    |
|                  | disabled/background             | rgb(0 0 0 / .12)                    |
|                  | typography                      | null                                |
|                  | fonts/family                    | ''                                  |
|                  | fonts/size                      | 0                                   |
|                  | fonts/letter-spacing            | null                                |
|                  | spacing/default                 | 15px                                |
|                  | inputs/background               | null                                |
|                  | buttons/icon-size               | 48px                                |
| **tables**       | cells/edge-gap                  | 4px                                 |
|                  | cells/padding                   | null                                |
|                  | rows/selected-color             | #FFF                                |
|                  | rows/disabled-color             | #F5F5F5                             |
|                  | rows/odd-even-row               | odd                                 |
|                  | rows/odd-even-background        | #F0F0F0                             |
|                  | no-result/font-size             | 13px                                |
|                  | no-result/font-weight           | 500                                 |
| **dialogs**      | title/size                      | 20px                                |

